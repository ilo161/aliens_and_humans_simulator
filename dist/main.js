!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e){return"./dist/".concat(e)};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.xStart=r,this.yStart=i,this.sprite=void 0,this.scaleW=o,this.scaleH=a,this.filePath=n,this.movements=[],this.moveIdx=0,this.loadAlienShip=this.loadAlienShip.bind(this),this.lToRAnimate=this.lToRAnimate.bind(this),this.drawShip=this.drawShip.bind(this),this.loadAlienShip(),this.moveSpanX()}var t,n,r;return t=e,(n=[{key:"moveSpanX",value:function(){for(var e=1;e<23;e++)this.movements.push({x:this.xStart*(40*e),y:this.yStart})}},{key:"loadAlienShip",value:function(){var e=this.filePath;this.sprite=new Image,this.sprite.src=e}},{key:"drawShip",value:function(){this.context.drawImage(this.sprite,this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.scaleW,this.scaleH)}},{key:"lToRAnimate",value:function(){this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.moveIdx,this.context.drawImage(this.sprite,this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.scaleW,this.scaleH),this.moveIdx++,this.moveIdx>=this.movements.length&&(this.moveIdx=0)}}])&&i(t.prototype,n),r&&i(t,r),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.army=[]}var t,n,i;return t=e,(n=[{key:"makeShips",value:function(){for(var e=this.army.length,t=[r("images/08-Netuno.png"),r("images/06-Saturno.png"),r("images/09-Pluto.png")];this.army.length<3;){var n=void 0;n=0===(e=this.army.length)?e:40*e;var i=t[e],a=new o(this.context,i,1,n,40,40);this.army.push(a)}}}])&&a(t.prototype,n),i&&a(t,i),e}();function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}console.log("hello from canvas events");var u=void 0,d=function(){for(var e={},t=0;t<4;t++){e[t]={};for(var n=0;n<7;n++)e[t][n]={isPresent:!1,cORp:"",klass:"",level:null}}return e}();var m={community:{parks:[],pyramids:[{file:r("images/golden_pyramid.png"),name:"goldenPyramid",cBoost:10,pBoost:0,cORp:"community",klass:"pyramids",index:0}],ruins:[{}],meditationCircles:[],trees:[]},production:{farms:[],buildings:[],houses:[],energy:{wind:[],solar:[],hydro:[]}}},h=function(e,t){var n=document.getElementsByClassName("drop-down-container")[0],r=document.getElementsByClassName("civilization-menu")[0],i=document.getElementsByClassName("playerAlert")[0];e.addEventListener("mousedown",(function(t){if((u=function(t){var n,r,i=e.getBoundingClientRect(),o=t.pageX,a=t.pageY;n=o-i.left,r=a-i.top,console.log(i),console.log("-------"),console.log(n),console.log(r);var s=Math.floor((n-22)/86),l=Math.floor((r-131)/86);return console.log("X: [".concat(l,", Y: ").concat(s,"]")),l>=0&&l<=3&&s>=0&&s<=6?[l,s]:void 0}(t))&&Array.from(n.classList).includes("hidden")){n.classList.toggle("hidden");var i=r.options.length;r.setAttribute("size",i)}else void 0!==u||Array.from(n.classList).includes("hidden")||n.classList.toggle("hidden");console.log("currentGrid: ".concat(u))})),r.addEventListener("change",(function(){var e=r.options[r.selectedIndex].value,n=f(e),o=n.file;if(v()){if(v()){var a=u[0],s=u[1],l=d[a][s];if(n.klass===l.klass&&n.index===l.level){var c=document.createElement("p"),m=document.createTextNode("That building is already there. Try upgrading!");c.appendChild(m),c.setAttribute("class","playerAlert"),i.appendChild(c)}else i.removeChild(i.childNodes[0])}}else g(t,o,u),p(n),i.childElementCount>0&&i.removeChild(i.childNodes[0]);null!=r.selectedIndex&&(r.selectedIndex=null)}))},f=function(e){var t,n,r,i=l(e.split(","),3);return t=i[0],n=i[1],r=i[2],console.log(m[t][n][r]),m[t][n][r]},v=function(){var e=u[0],t=u[1];return d[e][t].isPresent},p=function(e){var t=u[0],n=u[1];return d[t][n].isPresent=!0,d[t][n].cORp=e.cORp,d[t][n].klass=e.klass,d[t][n].level=e.index,d[t][n]},g=function(e,t,n){var r=new Image;r.src=t;var i=n[0],o=n[1];r.onload=function(){y(r,e,i,o)}},y=function(e,t,n,r){console.log("draw on grid");0===n&&0===r?t.drawImage(e,22,131,86,86):0===n&&r>0?t.drawImage(e,86*r+22,131,86,86):t.drawImage(e,86*r+22,86*n+131,86,86)};function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.startX=n,this.startY=r,this.color=i,this.blankSprite=void 0,this.colorSprite=void 0,this.value=0,this.loadSrc(o)}var t,n,i;return t=e,(n=[{key:"loadSrc",value:function(e){var t=this.orientationAndCreate(e),n=this.selectColor(this.color,e);this.blankSprite=new Image,this.colorSprite=new Image,this.blankSprite.src=t,this.colorSprite.src=n;var r=this;this.blankSprite.onload=function(e){r.context.drawImage(r.blankSprite,r.startX,r.startY,100,100),r.context.drawImage(r.colorSprite,r.startX,r.startY,100,100)}}},{key:"orientationAndCreate",value:function(e){return"h"===e||"H"===e?r("images/H_BarBackground.png"):"v"===e||"V"===e?r("images/V_BarBackground.png"):void 0}},{key:"selectColor",value:function(e,t){var n={blue:r("images/H_BlueBar.png"),green:r("images/H_GreenBar.png"),red:r("images/H_RedBar.png"),yellow:r("images/H_YellowBar.png")},i={blue:r("images/V_BlueBar.png"),green:r("images/V_GreenBar.png"),red:r("images/V_RedBar.png"),yellow:r("images/V_YellowBar.png")};return"h"===t||"H"===t?n[e]:"v"===t||"V"===t?i[e]:void 0}},{key:"increaseFill",value:function(e){}},{key:"decreaseFill",value:function(e){}},{key:"resetFill",value:function(){}},{key:"drawBar",value:function(e){e.drawImage(this.blankSprite,this.startX,this.startY,100,100)}}])&&b(t.prototype,n),i&&b(t,i),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas-home"),t=e.getContext("2d");h(e,t),function(e){var t=new Image;t.src=r("images/grass_mix_d.jpg"),t.onload=function(){n(e,t,22,131),n(e,t,22,217),n(e,t,22,303),n(e,t,22,389)};var n=function(e,t,n,r){for(var i=0;i<7;i++)e.drawImage(t,n,r,86,86),n+=86}}(t);new w(t,-34,375,"red","v"),new w(t,590,375,"yellow","v");!function(e){var t=new s(e);t.makeShips();var n=setInterval(t.army[0].lToRAnimate,150),r=setInterval(t.army[1].lToRAnimate,150),i=setInterval(t.army[2].lToRAnimate,150);setTimeout((function(){return clearInterval(n)}),2100),setTimeout((function(){return clearInterval(r)}),2100),setTimeout((function(){return clearInterval(i)}),2100)}(t)}))}]);
//# sourceMappingURL=main.js.map