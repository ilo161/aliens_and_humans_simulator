!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e){return"./dist/".concat(e)};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.xStart=r,this.yStart=a,this.sprite=void 0,this.scaleW=i,this.scaleH=o,this.filePath=n,this.movements=[],this.moveIdx=0,this.loadAlienShip=this.loadAlienShip.bind(this),this.lToRAnimate=this.lToRAnimate.bind(this),this.drawShip=this.drawShip.bind(this),this.loadAlienShip(),this.moveSpanX()}var t,n,r;return t=e,(n=[{key:"moveSpanX",value:function(){for(var e=1;e<23;e++)this.movements.push({x:this.xStart*(40*e),y:this.yStart})}},{key:"loadAlienShip",value:function(){var e=this.filePath;this.sprite=new Image,this.sprite.src=e}},{key:"drawShip",value:function(){this.context.drawImage(this.sprite,this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.scaleW,this.scaleH)}},{key:"lToRAnimate",value:function(){this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.moveIdx,this.context.drawImage(this.sprite,this.movements[this.moveIdx].x,this.movements[this.moveIdx].y,this.scaleW,this.scaleH),this.moveIdx++,this.moveIdx>=this.movements.length&&(this.moveIdx=0)}}])&&a(t.prototype,n),r&&a(t,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.army=[]}var t,n,a;return t=e,(n=[{key:"makeShips",value:function(){for(var e=this.army.length,t=[r("images/08-Netuno.png"),r("images/06-Saturno.png"),r("images/09-Pluto.png")];this.army.length<3;){var n=void 0;n=0===(e=this.army.length)?e:40*e;var a=t[e],o=new i(this.context,a,1,n,40,40);this.army.push(o)}}}])&&o(t.prototype,n),a&&o(t,a),e}();function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}console.log("hello from canvas events");var u=void 0,d=new Image;d.src=r("images/grass_mix_d.jpg");var m=function(){for(var e={},t=0;t<4;t++){e[t]={};for(var n=0;n<7;n++)e[t][n]={isPresent:!1,cORp:"",klass:"",level:null}}return e}(),g={community:0,production:0,resources:0};var h={community:{parks:[],pyramids:[{file:r("images/00red_pyramid.png"),name:"redPyramid",boost:10,cORp:"community",klass:"pyramids",index:0},{file:r("images/01golden_pyramid.png"),name:"goldenPyramid",boost:20,cORp:"community",klass:"pyramids",index:1},{file:r("images/02light_pyramid.png"),name:"lightPyramid",boost:30,cORp:"community",klass:"pyramids",index:2}],ruins:[{}],meditationCircles:[],trees:[]},production:{farms:[],buildings:[],houses:[],energy:{wind:[],solar:[],hydro:[]}}},p=function(e){var t,n,r,a=e.split(","),i=l(a,3);return t=i[0],n=i[1],r=i[2],console.log("--"),console.log(a),console.log(h[t][n][r]),h[t][n][r]},f=function(){var e=u[0],t=u[1];return m[e][t].isPresent},v=function(e){var t=u[0],n=u[1];return m[t][n].isPresent=!0,m[t][n].cORp=e.cORp,m[t][n].klass=e.klass,m[t][n].level=e.index,m[t][n]},y=function(e){return 0===e.index},b=function(e,t,n){var r=new Image;r.src=t;var a=n[0],i=n[1];r.onload=function(){B(r,e,a,i)}},B=function(e,t,n,r,a){console.log("draw on grid");0===n&&0===r?a?(t.clearRect(22,131,86,86),t.drawImage(e,22,131,86,86)):t.drawImage(e,22,131,86,86):0===n&&r>0?a?(t.clearRect(86*r+22,86*n+131,86,86),t.drawImage(e,86*r+22,86*n+131,86,86)):t.drawImage(e,86*r+22,131,86,86):a?(t.clearRect(86*r+22,86*n+131,86,86),t.drawImage(e,86*r+22,86*n+131,86,86)):t.drawImage(e,86*r+22,86*n+131,86,86)};function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t,n,r,a,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.startX=n,this.startY=r,this.points=30,this.color=a,this.value=o,this.blankSprite=void 0,this.colorSprite=void 0,this.loadSrc(i)}var t,n,a;return t=e,(n=[{key:"loadSrc",value:function(e){if("blank"===this.color){var t=this.orientationAndCreate(e);this.blankSprite=new Image,this.blankSprite.src=t;var n=this;this.blankSprite.onload=function(e){n.context.drawImage(n.blankSprite,n.startX,n.startY,100,378)}}else{var r=this.selectColor(this.color,e,this.value);this.colorSprite=new Image,this.colorSprite.src=r;var a=this;this.colorSprite.onload=function(e){a.context.drawImage(a.colorSprite,a.startX,a.startY,100,400)}}}},{key:"orientationAndCreate",value:function(e){return"h"===e||"H"===e?r("images/H_BarBackground.png"):"v"===e||"V"===e?r("images/V_BarBackground.png"):void 0}},{key:"selectColor",value:function(e,t,n){var a={blank:r("images/H_BarBackground.png"),blue:r("images/H_BlueBar.png"),green:r("images/H_GreenBar.png"),red:r("images/H_RedBar.png"),yellow:r("images/H_YellowBar.png")},i={blank:r("images/V_BarBackground.png"),blue:{10:r("images/V_BlueBar10.png"),20:r("images/V_BlueBar20.png"),30:r("images/V_BlueBar30.png"),40:r("images/V_BlueBar40.png"),50:r("images/V_BlueBar50.png"),60:r("images/V_BlueBar60.png"),70:r("images/V_BlueBar70.png"),80:r("images/V_BlueBar80.png"),90:r("images/V_BlueBar90.png"),100:r("images/V_BlueBar100.png")},green:{10:r("images/V_GreenBar10.png"),20:r("images/V_GreenBar20.png"),30:r("images/V_GreenBar30.png"),40:r("images/V_GreenBar40.png"),50:r("images/V_GreenBar50.png"),60:r("images/V_GreenBar60.png"),70:r("images/V_GreenBar70.png"),80:r("images/V_GreenBar80.png"),90:r("images/V_GreenBar90.png"),100:r("images/V_GreenBar100.png")}};return"h"===t||"H"===t?a[e]:"v"===t||"V"===t?i[e][n]:void 0}},{key:"increaseFill",value:function(e){}},{key:"decreaseFill",value:function(e){}},{key:"resetFill",value:function(){}},{key:"drawBar",value:function(e){e.drawImage(this.blankSprite,this.startX,this.startY,100,100)}}])&&w(t.prototype,n),a&&w(t,a),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas-home"),t=e.getContext("2d");!function(e,t){var n=document.getElementsByClassName("drop-down-container")[0],r=document.getElementsByClassName("civilization-menu")[0],a=document.getElementsByClassName("playerAlert")[0];e.addEventListener("mousedown",(function(e){if((u=s(e))&&Array.from(n.classList).includes("hidden")){n.classList.toggle("hidden");var t=r.options.length;r.setAttribute("size",t)}else void 0!==u||Array.from(n.classList).includes("hidden")||n.classList.toggle("hidden");console.log("currentGrid: ".concat(u))})),r.addEventListener("change",(function(){var e=r.options[r.selectedIndex].value,n=p(e),s=n.file;if(i(),f()){if(f()){var l=u[0],c=u[1],w=m[l][c],x=h[n.cORp][n.klass].length-1;n.klass===w.klass&&n.index===w.level&&x!=n.index?a.appendChild(o("That building is already there. Try upgrading!")):n.klass!==w.klass?a.appendChild(o("Try upgrading that structure to a higher level!")):n.klass===w.klass&&(x===w.level?a.appendChild(o("Max upgrade achieved!")):n.index===w.level+1?(B(d,t,l,c,!0),b(t,s,u),v(n),g[n.cORp]+=n.boost):n.index<w.level&&a.appendChild(o("Try upgrading, we must not regret our past decisions")))}}else!0===y(n)?(b(t,s,u),v(n),g[n.cORp]+=n.boost):a.appendChild(o("That building is not the first of it's kind!"));r.selectedIndex=null,console.log(g)}));var i=function(){a.childElementCount>0&&a.removeChild(a.childNodes[0])},o=function(e){var t=document.createElement("p"),n=document.createTextNode(e);return t.appendChild(n),t.setAttribute("class","playerAlert"),t},s=function(t){var n,r,a=e.getBoundingClientRect(),i=t.pageX,o=t.pageY;n=i-a.left,r=o-a.top,console.log(a),console.log("-------"),console.log(n),console.log(r);var s=Math.floor((n-22)/86),l=Math.floor((r-131)/86);return console.log("X: [".concat(l,", Y: ").concat(s,"]")),l>=0&&l<=3&&s>=0&&s<=6?[l,s]:void 0}}(e,t),function(e){var t=new Image;t.src=r("images/grass_mix_d.jpg"),t.onload=function(){n(e,t,22,131),n(e,t,22,217),n(e,t,22,303),n(e,t,22,389)};var n=function(e,t,n,r){for(var a=0;a<7;a++)e.drawImage(t,n,r,86,86),n+=86}}(t);new x(t,-34,105,"green","v",10),new x(t,590,105,"blue","v",20);!function(e){var t=new s(e);t.makeShips();var n=setInterval(t.army[0].lToRAnimate,150),r=setInterval(t.army[1].lToRAnimate,150),a=setInterval(t.army[2].lToRAnimate,150);setTimeout((function(){return clearInterval(n)}),2100),setTimeout((function(){return clearInterval(r)}),2100),setTimeout((function(){return clearInterval(a)}),2100)}(t)}))}]);
//# sourceMappingURL=main.js.map