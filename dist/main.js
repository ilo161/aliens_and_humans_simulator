!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/dist/",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}console.log("hello from canvas events");var a=void 0,i=function(){for(var e={},r=0;r<4;r++){e[r]={};for(var t=0;t<7;t++)e[r][t]={isPresent:!1,cORp:"",klass:"",level:null}}return e}();var s={community:{parks:[],pyramids:[{file:"/src/images/community/pyramids/golden_pyramid.png",name:"goldenPyramid",cBoost:10,pBoost:0,cORp:"community",klass:"pyramids",index:0}],ruins:[{}],meditationCircles:[],trees:[]},production:{farms:[],buildings:[],houses:[],energy:{wind:[],solar:[],hydro:[]}}},l=function(e,r){var t=document.getElementsByClassName("drop-down-container")[0],n=document.getElementsByClassName("civilization-menu")[0],o=document.getElementsByClassName("playerAlert")[0];e.addEventListener("mousedown",(function(r){if((a=function(r){var t,n,o=e.getBoundingClientRect(),a=r.pageX,i=r.pageY;t=a-o.left,n=i-o.top,console.log(o),console.log("-------"),console.log(t),console.log(n);var s=Math.floor((t-22)/86),l=Math.floor((n-131)/86);return console.log("X: [".concat(l,", Y: ").concat(s,"]")),l>=0&&l<=3&&s>=0&&s<=6?[l,s]:void 0}(r))&&Array.from(t.classList).includes("hidden")){t.classList.toggle("hidden");var o=n.options.length;n.setAttribute("size",o)}else void 0!==a||Array.from(t.classList).includes("hidden")||t.classList.toggle("hidden");console.log("currentGrid: ".concat(a))})),n.addEventListener("change",(function(){var e=n.options[n.selectedIndex].value,t=c(e),s=t.file;if(u()){if(u()){var l=a[0],f=a[1],p=i[l][f];if(t.klass===p.klass&&t.index===p.level){var m=document.createElement("p"),v=document.createTextNode("That building is already there. Try upgrading!");m.appendChild(v),m.setAttribute("class","playerAlert"),o.appendChild(m)}else o.removeChild(o.childNodes[0])}}else g(r,s,a),d(t),o.childElementCount>0&&o.removeChild(o.childNodes[0]);null!=n.selectedIndex&&(n.selectedIndex=null)}))},c=function(e){var r,t,o,a=n(e.split(","),3);return r=a[0],t=a[1],o=a[2],console.log(s[r][t][o]),s[r][t][o]},u=function(){var e=a[0],r=a[1];return i[e][r].isPresent},d=function(e){var r=a[0],t=a[1];return i[r][t].isPresent=!0,i[r][t].cORp=e.cORp,i[r][t].klass=e.klass,i[r][t].level=e.index,i[r][t]},g=function(e,r,t){var n=new Image;n.src=r;var o=t[0],a=t[1];n.onload=function(){f(n,e,o,a)}},f=function(e,r,t,n){console.log("draw on grid");0===t&&0===n?r.drawImage(e,22,131,86,86):0===t&&n>0?r.drawImage(e,86*n+22,131,86,86):r.drawImage(e,86*n+22,86*t+131,86,86)};function p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(r,t,n,o,a){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=r,this.startX=t,this.startY=n,this.color=o,this.blankSprite=void 0,this.colorSprite=void 0,this.value=0,this.loadSrc(a)}var r,t,n;return r=e,(t=[{key:"loadSrc",value:function(e){var r=this.orientationAndCreate(e),t=this.selectColor(this.color,e);this.blankSprite=new Image,this.colorSprite=new Image,this.blankSprite.src=r,this.colorSprite.src=t;var n=this;this.blankSprite.onload=function(e){n.context.drawImage(n.blankSprite,n.startX,n.startY,100,100),n.context.drawImage(n.colorSprite,n.startX,n.startY,100,100)}}},{key:"orientationAndCreate",value:function(e){return"h"===e||"H"===e?"/src/images/h_progress_bars/H_BarBackground.png":"v"===e||"V"===e?"/src/images/v_progress_bars/V_BarBackground.png":void 0}},{key:"selectColor",value:function(e,r){return"h"===r||"H"===r?{blue:"/src/images/h_progress_bars/H_BlueBar.png",green:"/src/images/h_progress_bars/H_GreenBar.png",red:"/src/images/h_progress_bars/H_RedBar.png",yellow:"/src/images/h_progress_bars/H_YellowBar.png"}[e]:"v"===r||"V"===r?{blue:"/src/images/v_progress_bars/V_BlueBar.png",green:"/src/images/v_progress_bars/V_GreenBar.png",red:"/src/images/v_progress_bars/V_RedBar.png",yellow:"/src/images/v_progress_bars/V_YellowBar.png"}[e]:void 0}},{key:"increaseFill",value:function(e){}},{key:"decreaseFill",value:function(e){}},{key:"resetFill",value:function(){}},{key:"drawBar",value:function(e){e.drawImage(this.blankSprite,this.startX,this.startY,100,100)}}])&&p(r.prototype,t),n&&p(r,n),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas-home"),r=e.getContext("2d");l(e,r),function(e){var r=new Image;r.src="/src/images/terrain_grass/grass_mix_d.jpg",r.onload=function(){t(e,r,22,131),t(e,r,22,217),t(e,r,22,303),t(e,r,22,389)};var t=function(e,r,t,n){for(var o=0;o<7;o++)e.drawImage(r,t,n,86,86),t+=86}}(r);new m(r,0,375,"blue","v"),new m(r,590,375,"blue","v")}))}]);
//# sourceMappingURL=main.js.map